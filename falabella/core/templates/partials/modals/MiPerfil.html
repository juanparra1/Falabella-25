<div class="container mt-4" style="display: none;" id="perfil-modal">
    <!-- Saludo superior -->
    <h2 class="mb-4">Hola, <span id="perfil-nombre">Usuario</span></h2>
    <div class="row">
        <!-- Menú lateral y tabs superiores -->
        <div class="col-12">
            <!-- Tabs superiores -->
            <div class="perfil-tabs-wrapper mb-3">
                <div class="perfil-tabs">
                    <button class="perfil-tab-btn active" id="tab-perfil">
                        <i class="bi bi-person"></i>
                        Mi perfil
                    </button>
                    <button class="perfil-tab-btn" id="tab-compras">
                        <i class="bi bi-box"></i>
                        Mis compras
                    </button>
                    <button class="perfil-tab-btn" id="tab-ayuda">
                        <i class="bi bi-question-circle"></i>
                        Ayuda
                    </button>
                </div>
            </div>
        </div>
        <div class="col-md-3 mb-3">
            <!-- Menú lateral -->
            <div class="list-group" id="perfil-menu">
                <button class="list-group-item list-group-item-action d-flex justify-content-between align-items-center active" data-section="datos-personales">
                    <span><i class="bi bi-person me-2"></i>Datos personales</span>
                    <i class="bi bi-chevron-right"></i>
                </button>
                <button class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" data-section="direcciones">
                    <span><i class="bi bi-geo-alt me-2"></i>Direcciones</span>
                    <i class="bi bi-chevron-right"></i>
                </button>
                <button class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" data-section="medios-pago">
                    <span><i class="bi bi-credit-card me-2"></i>Medios de pago</span>
                    <i class="bi bi-chevron-right"></i>
                </button>
                <button class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" data-section="reembolso">
                    <span><i class="bi bi-cash-coin me-2"></i>Datos para reembolso</span>
                    <i class="bi bi-chevron-right"></i>
                </button>
                <button class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" data-section="listas">
                    <span><i class="bi bi-heart me-2"></i>Mis listas</span>
                    <i class="bi bi-chevron-right"></i>
                </button>
                <button class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" data-section="configurar-cuenta">
                    <span><i class="bi bi-gear me-2"></i>Configurar mi cuenta</span>
                    <i class="bi bi-chevron-right"></i>
                </button>
                <button class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" data-section="pagar-cmr">
                    <span><i class="bi bi-credit-card-2-front me-2"></i>Pagar mi CMR</span>
                    <i class="bi bi-chevron-right"></i>
                </button>
                <button class="list-group-item list-group-item-action d-flex justify-content-between align-items-center text-danger" id="cerrarPerfilBtn">
                    <span><i class="bi bi-box-arrow-right me-2"></i>Cerrar sesión</span>
                    <i class="bi bi-chevron-right"></i>
                </button>
            </div>
        </div>
        <!-- Contenido dinámico a la derecha -->
        <div class="col-md-9">
            <div id="perfil-content">
                <!-- Aquí se mostrará el contenido de cada sección -->
                <div id="datos-personales" class="perfil-section">
                    <h4>Datos personales</h4>
                    <form id="form-datos-personales" autocomplete="off">
                        {% csrf_token %}
                        <div class="row">
                            <div class="col-md-4 mb-3">
                                <label class="form-label">Nombre</label>
                                <input type="text" class="form-control" id="nombre" required>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label class="form-label">Apellido</label>
                                <input type="text" class="form-control" id="apellido1" required>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label class="form-label">Documento</label>
                                <input type="text" class="form-control" id="cedula" disabled>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label class="form-label">Celular</label>
                                <div class="input-group">
                                    <span class="input-group-text">+57</span>
                                    <input type="text" class="form-control" id="celular" maxlength="10" pattern="\d{10}" required>
                                </div>
                                <div class="invalid-feedback">Debe tener 10 dígitos.</div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Correo electrónico</label>
                                <input type="email" class="form-control" id="correo" required>
                                <div class="invalid-feedback">Debe ser un correo válido.</div>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-dark" id="guardar-btn" disabled>Guardar</button>
                    </form>
                </div>
                <div id="direcciones" class="perfil-section" style="display:none;">
                    <h4>Direcciones</h4>
                    <div id="lista-direcciones" class="mb-4">
                        <!-- Aquí se renderizan las direcciones -->
                    </div>
                    <div class="d-flex justify-content-end">
                        <button class="btn btn-dark px-5 py-2" id="btn-agregar-direccion" style="border-radius: 2rem; font-weight:600;">
                            Agregar dirección
                        </button>
                    </div>
                </div>
                <div id="medios-pago" class="perfil-section" style="display:none;">
                    <h4>Medios de pago</h4>
                    <p>Aquí irán los formularios de medios de pago.</p>
                </div>
                <div id="reembolso" class="perfil-section" style="display:none;">
                    <h4>Datos para reembolso</h4>
                    <p>Aquí irán los formularios de reembolso.</p>
                </div>
                <div id="listas" class="perfil-section" style="display:none;">
                    <h4>Mis listas</h4>
                    <p>Aquí irán tus listas guardadas.</p>
                </div>
                <div id="configurar-cuenta" class="perfil-section" style="display:none;">
                    <h4>Configurar mi cuenta</h4>
                    <p>Aquí irán las opciones de configuración.</p>
                </div>
                <div id="pagar-cmr" class="perfil-section" style="display:none;">
                    <h4>Pagar mi CMR</h4>
                    <p>Aquí irán las opciones de pago CMR.</p>
                </div>
            </div>
        </div>
    </div>
</div>